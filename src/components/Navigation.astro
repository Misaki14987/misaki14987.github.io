---
import Hamburger from "./Hamburger.astro";

const links = [
	{ href: '/', label: 'Home' },
	{ href: '/about', label: 'About' },
	{ href: '/blog', label: 'Blog' },
];

const currentPath = Astro.url.pathname.replace(/\/$/, '') || '/';
---

<nav class='w-full border-b border-white/40 bg-white/60 backdrop-blur supports-[backdrop-filter]:bg-white/45'>
	<Hamburger />
	<div class='mx-auto flex max-w-4xl flex-wrap items-center justify-center gap-1.5 px-3 py-2 text-sm font-medium text-slate-600 sm:flex-nowrap sm:justify-between sm:gap-2'>
		{links.map((link) => {
			const normalized = link.href.replace(/\/$/, '') || '/';
			const isActive = currentPath === normalized;
			return (
				<a
					href={link.href}
					aria-current={isActive ? 'page' : undefined}
					class={`inline-flex items-center rounded-full px-3 py-1.5 transition-colors duration-200 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-slate-700 ${
						isActive
							? 'bg-slate-900 text-white shadow-sm shadow-slate-900/15'
							: 'text-slate-600 hover:bg-slate-200/80 hover:text-slate-900'
					}`}
				>
					{link.label}
				</a>
			);
		})}
	</div>
</nav>
